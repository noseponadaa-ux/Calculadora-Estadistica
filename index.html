<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora Estadística Avanzada</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    
    <!-- Chart.js para gráficos -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- SheetJS para importar Excel -->
    <script src="https://cdn.sheetjs.com/xlsx-0.20.1/package/dist/xlsx.full.min.js"></script>
    
    <!-- FontAwesome para iconos -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body data-theme="dark">
    <!-- Toggle de tema -->
    <button class="theme-toggle" onclick="toggleTheme()" title="Cambiar tema">
        <i class="fas fa-sun"></i>
    </button>

    <!-- Contenedor de notificaciones toast -->
    <div id="toast-container"></div>

    <div class="container">
        <header>
            <div class="header-content">
                <div>
                    <h1><i class="fas fa-calculator"></i> CALCULADORA ESTADÍSTICA</h1>
                    <p>INGENIERÍA DE SISTEMAS E INFORMÁTICA</p>
                </div>
                <button class="btn-teoria" onclick="irATeoria()">
                    <i class="fas fa-book"></i> Ver Teoría
                </button>
            </div>
        </header>

        <nav class="tabs">
            <div class="dropdown">
                <button class="tab-btn dropbtn active">
                    <i class="fas fa-chart-bar"></i> Estadística Descriptiva ▼
                </button>
                <div class="dropdown-content">
                    <a href="#" onclick="mostrarSeccion('frecuencias', this); return false;">
                        <i class="fas fa-table"></i> Tabla de Frecuencias
                    </a>
                    <a href="#" onclick="mostrarSeccion('dispersion', this); return false;">
                        <i class="fas fa-chart-scatter"></i> Dispersión y Forma
                    </a>
                    <a href="#" onclick="mostrarSeccion('posicion', this); return false;">
                        <i class="fas fa-sort-numeric-down"></i> Medidas de Posición
                    </a>
                    <a href="#" onclick="mostrarSeccion('intervalos', this); return false;">
                        <i class="fas fa-chart-area"></i> Intervalos de Confianza
                    </a>
                </div>
            </div>

            <button class="tab-btn" onclick="mostrarSeccion('regresion-simple', this)">
                <i class="fas fa-chart-line"></i> Regresión Lineal Simple
            </button>
            <button class="tab-btn" onclick="mostrarSeccion('regresion-multiple', this)">
                <i class="fas fa-project-diagram"></i> Regresión Múltiple
            </button>
            <button class="tab-btn" onclick="mostrarSeccion('probabilidad', this)">
                <i class="fas fa-dice"></i> Probabilidad
            </button>
            <button class="tab-btn" onclick="mostrarSeccion('historial', this)">
                <i class="fas fa-history"></i> Historial
            </button>
        </nav>

        <!-- SECCIÓN: REGRESIÓN LINEAL SIMPLE -->
        <section id="regresion-simple" class="content-section active">
            <div class="section-header">
                <h2><i class="fas fa-chart-line"></i> Regresión Lineal Simple (y = ax + b)</h2>
                <div class="section-actions">
                    <button class="btn-help" onclick="mostrarAyuda('regresion-simple')" title="Ayuda">
                        <i class="fas fa-question-circle"></i>
                    </button>
                </div>
            </div>
            
            <p class="section-description">Ingresa los datos separados por comas o importa desde Excel.</p>

            <div class="form-grid">
                <div class="form-group">
                    <label for="simple-x">
                        <i class="fas fa-arrows-alt-h"></i> Valores de X (Independiente):
                        <span class="tooltip-icon" title="Variable explicativa o predictora">
                            <i class="fas fa-info-circle"></i>
                        </span>
                    </label>
                    <textarea id="simple-x" rows="3" placeholder="Ej: 10, 20, 30, 40"></textarea>
                    <button class="btn-import" onclick="importarExcel('simple-x')">
                        <i class="fas fa-file-excel"></i> Importar Excel
                    </button>
                </div>

                <div class="form-group">
                    <label for="simple-y">
                        <i class="fas fa-arrows-alt-v"></i> Valores de Y (Dependiente):
                        <span class="tooltip-icon" title="Variable de respuesta">
                            <i class="fas fa-info-circle"></i>
                        </span>
                    </label>
                    <textarea id="simple-y" rows="3" placeholder="Ej: 15, 25, 35, 45"></textarea>
                    <button class="btn-import" onclick="importarExcel('simple-y')">
                        <i class="fas fa-file-excel"></i> Importar Excel
                    </button>
                </div>
            </div>

            <div class="action-buttons">
                <button class="btn-secondary" onclick="cargarEjemplo('regresion-simple')">
                    <i class="fas fa-lightbulb"></i> Cargar Ejemplo
                </button>
                <button class="btn-secondary" onclick="limpiarSeccion('regresion-simple')">
                    <i class="fas fa-eraser"></i> Limpiar
                </button>
                <button class="action-btn" onclick="calcularRegresionSimple()">
                    <i class="fas fa-calculator"></i> Calcular
                </button>
            </div>

            <div class="result-box" id="resultado-simple">
                <div class="empty-state">
                    <i class="fas fa-chart-line fa-3x"></i>
                    <p>Los resultados aparecerán aquí después del cálculo</p>
                </div>
            </div>
            
            <div class="chart-container" id="chart-container-simple" style="display:none;">
                <div class="chart-header">
                    <h3>Gráfico de Regresión</h3>
                    <button class="btn-download-chart" onclick="descargarGrafico('graficoRegresion')">
                        <i class="fas fa-download"></i> Descargar PNG
                    </button>
                </div>
                <canvas id="graficoRegresion"></canvas>
            </div>
        </section>

        <!-- SECCIÓN: REGRESIÓN MÚLTIPLE -->
        <section id="regresion-multiple" class="content-section" style="display:none;">
            <div class="section-header">
                <h2><i class="fas fa-project-diagram"></i> Regresión Lineal Múltiple</h2>
                <div class="section-actions">
                    <button class="btn-help" onclick="mostrarAyuda('regresion-multiple')" title="Ayuda">
                        <i class="fas fa-question-circle"></i>
                    </button>
                </div>
            </div>
            
            <p class="section-description">Relación entre una variable dependiente (Y) y varias independientes (X₁, X₂...).</p>

            <div class="form-group">
                <label for="multiple-x">
                    <i class="fas fa-table"></i> Matriz X (Variables Independientes):
                    <span class="tooltip-icon" title="Separa columnas con espacio o coma, y filas con Enter">
                        <i class="fas fa-info-circle"></i>
                    </span>
                </label>
                <p class="helper-text">
                    Ingresa los datos en columnas. Separa columnas con <strong>espacio</strong> o <strong>coma</strong>,
                    y filas con <strong>Enter</strong>. <em>No incluyas encabezados.</em>
                </p>
                <textarea id="multiple-x" rows="6" placeholder="Ejemplo (X1 X2):
10  5
12  6
15  8
18  9"></textarea>
                <button class="btn-import" onclick="importarExcel('multiple-x')">
                    <i class="fas fa-file-excel"></i> Importar Excel
                </button>
            </div>

            <div class="form-group">
                <label for="multiple-y">
                    <i class="fas fa-arrows-alt-v"></i> Vector Y (Variable Dependiente):
                </label>
                <p class="helper-text">Ingresa los valores de Y en el mismo orden, separados por comas o enter.</p>
                <textarea id="multiple-y" rows="3" placeholder="Ej: 100, 120, 150, 170"></textarea>
                <button class="btn-import" onclick="importarExcel('multiple-y')">
                    <i class="fas fa-file-excel"></i> Importar Excel
                </button>
            </div>

            <div class="action-buttons">
                <button class="btn-secondary" onclick="cargarEjemplo('regresion-multiple')">
                    <i class="fas fa-lightbulb"></i> Cargar Ejemplo
                </button>
                <button class="btn-secondary" onclick="limpiarSeccion('regresion-multiple')">
                    <i class="fas fa-eraser"></i> Limpiar
                </button>
                <button class="action-btn" onclick="calcularRegresionMultiple()">
                    <i class="fas fa-calculator"></i> Calcular Modelo Múltiple
                </button>
            </div>

            <div class="result-box" id="resultado-multiple">
                <div class="empty-state">
                    <i class="fas fa-project-diagram fa-3x"></i>
                    <p>Los resultados aparecerán aquí después del cálculo</p>
                </div>
            </div>
        </section>

        <!-- SECCIÓN: PROBABILIDAD -->
        <section id="probabilidad" class="content-section" style="display:none;">
            <div class="section-header">
                <h2><i class="fas fa-dice"></i> Fundamentos de Probabilidad</h2>
            </div>
            
            <p class="section-description">Cálculo de probabilidad clásica y condicional.</p>

            <div class="cards-grid">
                <div class="card-tool">
                    <h3><i class="fas fa-balance-scale"></i> Regla de Laplace</h3>
                    <p class="formula-display">P(A) = Casos Favorables / Casos Totales</p>

                    <div class="form-group">
                        <label>Casos Favorables (f):</label>
                        <input type="number" id="lap-fav" placeholder="Ej: 1 (As de espadas)">
                    </div>
                    <div class="form-group">
                        <label>Casos Totales (n):</label>
                        <input type="number" id="lap-tot" placeholder="Ej: 52 (Cartas en baraja)">
                    </div>

                    <div class="action-buttons">
                        <button class="btn-secondary" onclick="limpiarLaplace()">
                            <i class="fas fa-eraser"></i> Limpiar
                        </button>
                        <button class="action-btn" onclick="calcularLaplace()">
                            <i class="fas fa-calculator"></i> Calcular
                        </button>
                    </div>

                    <div id="result-laplace"></div>
                </div>

                <div class="card-tool">
                    <h3><i class="fas fa-network-wired"></i> Teorema de Bayes</h3>
                    <p class="formula-display">Probabilidad condicional P(A|B)</p>

                    <div class="form-group">
                        <label>Probabilidad A priori P(A):</label>
                        <input type="number" id="bay-pa" placeholder="0.0 a 1.0" step="0.01" min="0" max="1">
                    </div>
                    <div class="form-group">
                        <label>Prob. Condicional P(B|A):</label>
                        <input type="number" id="bay-pba" placeholder="0.0 a 1.0" step="0.01" min="0" max="1">
                    </div>
                    <div class="form-group">
                        <label>Prob. Total P(B):</label>
                        <input type="number" id="bay-pb" placeholder="0.0 a 1.0" step="0.01" min="0" max="1">
                    </div>

                    <div class="action-buttons">
                        <button class="btn-secondary" onclick="limpiarBayes()">
                            <i class="fas fa-eraser"></i> Limpiar
                        </button>
                        <button class="action-btn" onclick="calcularBayes()">
                            <i class="fas fa-calculator"></i> Calcular
                        </button>
                    </div>

                    <div id="result-bayes"></div>
                </div>
            </div>
        </section>

        <!-- SECCIÓN: FRECUENCIAS -->
        <section id="frecuencias" class="content-section" style="display:none;">
            <div class="section-header">
                <h2><i class="fas fa-table"></i> Tabla de Distribución de Frecuencias</h2>
                <div class="section-actions">
                    <button class="btn-help" onclick="mostrarAyuda('frecuencias')" title="Ayuda">
                        <i class="fas fa-question-circle"></i>
                    </button>
                </div>
            </div>
            
            <p class="section-description">Generación automática de clases usando la Regla de Sturges.</p>
            
            <div class="form-group">
                <label><i class="fas fa-database"></i> Ingresa tus datos (separados por comas):</label>
                <textarea id="freq-data" rows="4" placeholder="Ej: 12, 15, 12, 18, 20, 22, 15, ..."></textarea>
                <button class="btn-import" onclick="importarExcel('freq-data')">
                    <i class="fas fa-file-excel"></i> Importar Excel
                </button>
            </div>
            
            <div class="action-buttons">
                <button class="btn-secondary" onclick="cargarEjemplo('frecuencias')">
                    <i class="fas fa-lightbulb"></i> Cargar Ejemplo
                </button>
                <button class="btn-secondary" onclick="limpiarSeccion('frecuencias')">
                    <i class="fas fa-eraser"></i> Limpiar
                </button>
                <button class="action-btn" onclick="calcularFrecuencias()">
                    <i class="fas fa-calculator"></i> Generar Tabla
                </button>
            </div>
            
            <div class="result-box" id="resultado-frecuencias">
                <div class="empty-state">
                    <i class="fas fa-table fa-3x"></i>
                    <p>La tabla de frecuencias aparecerá aquí</p>
                </div>
            </div>
        </section>

        <!-- SECCIÓN: DISPERSIÓN -->
        <section id="dispersion" class="content-section" style="display:none;">
            <div class="section-header">
                <h2><i class="fas fa-chart-scatter"></i> Dispersión y Forma</h2>
                <div class="section-actions">
                    <button class="btn-help" onclick="mostrarAyuda('dispersion')" title="Ayuda">
                        <i class="fas fa-question-circle"></i>
                    </button>
                </div>
            </div>
            
            <p class="section-description">Varianza, Desviación, Coeficiente de Variación, Asimetría y Curtosis.</p>
            
            <div class="form-group">
                <label><i class="fas fa-database"></i> Datos:</label>
                <textarea id="disp-data" rows="4" placeholder="Ej: 5, 10, 15, 20, 25"></textarea>
                <button class="btn-import" onclick="importarExcel('disp-data')">
                    <i class="fas fa-file-excel"></i> Importar Excel
                </button>
            </div>
            
            <div class="action-buttons">
                <button class="btn-secondary" onclick="cargarEjemplo('dispersion')">
                    <i class="fas fa-lightbulb"></i> Cargar Ejemplo
                </button>
                <button class="btn-secondary" onclick="limpiarSeccion('dispersion')">
                    <i class="fas fa-eraser"></i> Limpiar
                </button>
                <button class="action-btn" onclick="calcularDispersion()">
                    <i class="fas fa-calculator"></i> Calcular Indicadores
                </button>
            </div>
            
            <div class="result-box" id="resultado-dispersion">
                <div class="empty-state">
                    <i class="fas fa-chart-scatter fa-3x"></i>
                    <p>Los indicadores de dispersión aparecerán aquí</p>
                </div>
            </div>
        </section>

        <!-- SECCIÓN: POSICIÓN -->
        <section id="posicion" class="content-section" style="display:none;">
            <div class="section-header">
                <h2><i class="fas fa-sort-numeric-down"></i> Medidas de Posición</h2>
                <div class="section-actions">
                    <button class="btn-help" onclick="mostrarAyuda('posicion')" title="Ayuda">
                        <i class="fas fa-question-circle"></i>
                    </button>
                </div>
            </div>
            
            <p class="section-description">Cálculo de Cuartiles (Q), Deciles (D) y Percentiles (P).</p>
            
            <div class="form-group">
                <label><i class="fas fa-database"></i> Datos:</label>
                <textarea id="pos-data" rows="4" placeholder="Ej: 2, 4, 4, 5, 7, 9, 10"></textarea>
                <button class="btn-import" onclick="importarExcel('pos-data')">
                    <i class="fas fa-file-excel"></i> Importar Excel
                </button>
            </div>
            
            <div class="form-grid">
                <div class="form-group">
                    <label>Tipo:</label>
                    <select id="pos-tipo">
                        <option value="Q">Cuartil (1-3)</option>
                        <option value="D">Decil (1-9)</option>
                        <option value="P">Percentil (1-99)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Valor (k):</label>
                    <input type="number" id="pos-k" placeholder="Ej: 2" min="1">
                </div>
            </div>
            
            <div class="action-buttons">
                <button class="btn-secondary" onclick="cargarEjemplo('posicion')">
                    <i class="fas fa-lightbulb"></i> Cargar Ejemplo
                </button>
                <button class="btn-secondary" onclick="limpiarSeccion('posicion')">
                    <i class="fas fa-eraser"></i> Limpiar
                </button>
                <button class="action-btn" onclick="calcularPosicion()">
                    <i class="fas fa-calculator"></i> Calcular Posición
                </button>
            </div>
            
            <div class="result-box" id="resultado-posicion">
                <div class="empty-state">
                    <i class="fas fa-sort-numeric-down fa-3x"></i>
                    <p>El resultado de la medida de posición aparecerá aquí</p>
                </div>
            </div>
        </section>

        <!-- SECCIÓN: INTERVALOS DE CONFIANZA -->
        <section id="intervalos" class="content-section" style="display:none;">
            <div class="section-header">
                <h2><i class="fas fa-chart-area"></i> Intervalos de Confianza</h2>
                <div class="section-actions">
                    <button class="btn-help" onclick="mostrarAyuda('intervalos')" title="Ayuda">
                        <i class="fas fa-question-circle"></i>
                    </button>
                </div>
            </div>
            
            <p class="section-description">Estimación de parámetros poblacionales a partir de una muestra.</p>

            <div class="form-group highlight-box">
                <label for="ci-tipo"><i class="fas fa-tasks"></i> ¿Qué deseas estimar?</label>
                <select id="ci-tipo" onchange="cambiarFormularioCI()">
                    <option value="media">Media Poblacional (μ) - (n > 30)</option>
                    <option value="proporcion">Proporción Poblacional (p)</option>
                </select>
            </div>

            <div class="form-group">
                <label for="ci-nivel"><i class="fas fa-percentage"></i> Nivel de Confianza (1 - α):</label>
                <select id="ci-nivel">
                    <option value="1.645">90% (Z = 1.645)</option>
                    <option value="1.96" selected>95% (Z = 1.96)</option>
                    <option value="2.576">99% (Z = 2.576)</option>
                </select>
            </div>

            <div id="form-ci-media">
                <div class="form-grid">
                    <div class="form-group">
                        <label>Media Muestral (x̄):</label>
                        <input type="number" id="ci-xbar" placeholder="Ej: 50" step="0.01">
                    </div>
                    <div class="form-group">
                        <label>Desv. Estándar (s):</label>
                        <input type="number" id="ci-desv" placeholder="Ej: 5" step="0.01">
                    </div>
                    <div class="form-group">
                        <label>Tamaño Muestra (n):</label>
                        <input type="number" id="ci-n-media" placeholder="Ej: 100" min="31">
                    </div>
                </div>
            </div>

            <div id="form-ci-prop" style="display:none;">
                <div class="form-grid">
                    <div class="form-group">
                        <label>Casos Favorables (x):</label>
                        <input type="number" id="ci-x-prop" placeholder="Ej: 45" min="0">
                    </div>
                    <div class="form-group">
                        <label>Tamaño Muestra (n):</label>
                        <input type="number" id="ci-n-prop" placeholder="Ej: 100" min="1">
                    </div>
                </div>
            </div>

            <div class="action-buttons">
                <button class="btn-secondary" onclick="cargarEjemplo('intervalos')">
                    <i class="fas fa-lightbulb"></i> Cargar Ejemplo
                </button>
                <button class="btn-secondary" onclick="limpiarSeccion('intervalos')">
                    <i class="fas fa-eraser"></i> Limpiar
                </button>
                <button class="action-btn" onclick="calcularIntervalo()">
                    <i class="fas fa-calculator"></i> Calcular Intervalo
                </button>
            </div>

            <div class="result-box" id="resultado-ci">
                <div class="empty-state">
                    <i class="fas fa-chart-area fa-3x"></i>
                    <p>Introduce los datos para estimar el intervalo</p>
                </div>
            </div>
            
            <div class="chart-container" id="chart-container-intervalos" style="display:none;">
                <div class="chart-header">
                    <h3>Visualización del Intervalo</h3>
                    <button class="btn-download-chart" onclick="descargarGrafico('graficoIntervalos')">
                        <i class="fas fa-download"></i> Descargar PNG
                    </button>
                </div>
                <canvas id="graficoIntervalos"></canvas>
            </div>
        </section>

        <!-- SECCIÓN: HISTORIAL -->
        <section id="historial" class="content-section" style="display:none;">
            <div class="section-header">
                <h2><i class="fas fa-history"></i> Historial de Cálculos</h2>
                <div class="section-actions">
                    <button class="btn-secondary" onclick="limpiarHistorial()">
                        <i class="fas fa-trash"></i> Limpiar Historial
                    </button>
                </div>
            </div>
            
            <p class="section-description">Últimos 5 cálculos realizados</p>
            
            <div id="historial-container">
                <div class="empty-state">
                    <i class="fas fa-clock fa-3x"></i>
                    <p>No hay cálculos en el historial todavía</p>
                    <small>Los cálculos se guardarán automáticamente aquí</small>
                </div>
            </div>
        </section>
    </div>

    <!-- Loader -->
    <div id="loader" class="loader-overlay" style="display:none;">
        <div class="loader-content">
            <div class="spinner"></div>
            <p>Calculando...</p>
        </div>
    </div>

    <!-- IMPORTANTE: Cargar script.js PRIMERO -->
    <script src="script.js"></script>

    <script>
        // Inicialización
        document.addEventListener('DOMContentLoaded', function() {
            // Cargar tema guardado
            const savedTheme = localStorage.getItem('theme') || 'dark';
            document.body.setAttribute('data-theme', savedTheme);
            updateThemeIcon(savedTheme);

            // Cargar historial
            cargarHistorial();

            // Inicializar tooltips
            initTooltips();
        });

        function mostrarSeccion(id, element) {
            // Ocultar todas las secciones
            document.querySelectorAll('.content-section').forEach(sec => sec.style.display = 'none');
            
            // Remover clase active de todos los botones
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            
            // Mostrar la seleccionada
            document.getElementById(id).style.display = 'block';
            
            // Agregar clase active al botón clickeado
            if (element && element.classList && element.classList.contains('tab-btn')) {
                element.classList.add('active');
            } else if (element && element.closest('.dropdown')) {
                // Si es del dropdown, activar el botón del dropdown
                document.querySelector('.dropbtn').classList.add('active');
            }
        }

        // Cerrar dropdown cuando se hace clic fuera
        window.onclick = function(event) {
            if (!event.target.matches('.dropbtn')) {
                var dropdowns = document.getElementsByClassName("dropdown-content");
                for (var i = 0; i < dropdowns.length; i++) {
                    var openDropdown = dropdowns[i];
                    if (openDropdown.classList.contains('show')) {
                        openDropdown.classList.remove('show');
                    }
                }
            }
        }

        // Toggle dropdown
        document.querySelector('.dropbtn').addEventListener('click', function(e) {
            e.stopPropagation();
            document.querySelector('.dropdown-content').classList.toggle('show');
        });

        // Función para ir a la teoría
        function irATeoria() {
            window.location.href = 'teoria.html';
        }

        // Toggle tema
        function toggleTheme() {
            const currentTheme = document.body.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            document.body.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
            updateThemeIcon(newTheme);
            mostrarToast(`Tema ${newTheme === 'dark' ? 'oscuro' : 'claro'} activado`, 'success');
        }

        function updateThemeIcon(theme) {
            const icon = document.querySelector('.theme-toggle i');
            if (theme === 'dark') {
                icon.className = 'fas fa-sun';
            } else {
                icon.className = 'fas fa-moon';
            }
        }

        // Inicializar tooltips
        function initTooltips() {
            const tooltips = document.querySelectorAll('.tooltip-icon');
            tooltips.forEach(tooltip => {
                tooltip.addEventListener('mouseenter', function(e) {
                    const title = this.getAttribute('title');
                    if (title) {
                        const tooltipEl = document.createElement('div');
                        tooltipEl.className = 'tooltip-box';
                        tooltipEl.textContent = title;
                        tooltipEl.style.position = 'absolute';
                        tooltipEl.style.zIndex = '10000';
                        document.body.appendChild(tooltipEl);
                        
                        const rect = this.getBoundingClientRect();
                        tooltipEl.style.left = rect.left + 'px';
                        tooltipEl.style.top = (rect.bottom + 5) + 'px';
                        
                        this._tooltipEl = tooltipEl;
                    }
                });
                
                tooltip.addEventListener('mouseleave', function() {
                    if (this._tooltipEl) {
                        this._tooltipEl.remove();
                        this._tooltipEl = null;
                    }
                });
            });
        }
    </script>
</body>

</html>
